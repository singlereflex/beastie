"use strict";

/**
 * @ngdoc directive
 * @name beastieApp.directive:killExample
 * @description
 * # killExample
 */
angular.module("beastieApp")
    .directive("trainer", function () {
        return {
            templateUrl: "entities.html",
            restrict: "E",
            transclude: true,
            scope: {},
            controller: function ($scope, $interval) {

                var net = new brain.NeuralNetwork();

                net.train([
                    {
                        input: {
                            "-2,-2": 0.5,
                            "-1,-2": 0.5,
                            "0,-2": 1,
                            "1,-2": 0.5,
                            "2,-2": 0.5,

                            "-2,-1": 0.5,
                            "-1,-1": 0.5,
                            "0,-1": 0.5,
                            "1,-1": 0.5,
                            "2,-1": 0.5,

                            "-2,0": 0.5,
                            "-1,0": 0.5,
                            "0,0": 0.5,
                            "1,0": 0.5,
                            "2,0": 0.5,

                            "-2,1": 0.5,
                            "-1,1": 0.5,
                            "0,1": 0.5,
                            "1,1": 0.5,
                            "2,1": 0.5,

                            "-2,2": 0.5,
                            "-1,2": 0.5,
                            "0,2": 0.5,
                            "1,2": 0.5,
                            "2,2": 0.5
                        },
                        output: { x: 0.5, y: 1 }
                    },
                    {
                        input: {
                            "-2,-2": 0.5,
                            "-1,-2": 0.5,
                            "0,-2": 0.5,
                            "1,-2": 0.5,
                            "2,-2": 0.5,

                            "-2,-1": 0.5,
                            "-1,-1": 0.5,
                            "0,-1": 0.5,
                            "1,-1": 0.5,
                            "2,-1": 0.5,

                            "-2,0": 0.5,
                            "-1,0": 0.5,
                            "0,0": 0.5,
                            "1,0": 0.5,
                            "2,0": 0.5,

                            "-2,1": 0.5,
                            "-1,1": 0.5,
                            "0,1": 0.5,
                            "1,1": 0.5,
                            "2,1": 0.5,

                            "-2,2": 0.5,
                            "-1,2": 0.5,
                            "0,2": 1,
                            "1,2": 0.5,
                            "2,2": 0.5
                        },
                        output: { x: 0.5, y: 1 }
                    },
                    {
                        input: {
                            "-2,-2": 0.5,
                            "-1,-2": 0.5,
                            "0,-2": 0.5,
                            "1,-2": 0.5,
                            "2,-2": 0.5,

                            "-2,-1": 0.5,
                            "-1,-1": 0.5,
                            "0,-1": 0.5,
                            "1,-1": 0.5,
                            "2,-1": 0.5,

                            "-2,0": 0.5,
                            "-1,0": 0.5,
                            "0,0": 0.5,
                            "1,0": 0.5,
                            "2,0": 0.5,

                            "-2,1": 0.5,
                            "-1,1": 0.5,
                            "0,1": 0.5,
                            "1,1": 0.5,
                            "2,1": 0.5,

                            "-2,2": 0.5,
                            "-1,2": 0.5,
                            "0,2": 0.5,
                            "1,2": 0.5,
                            "2,2": 0.5
                        },
                        output: { x: 0.5, y: 1 }
                    },
                    {
                        input: {
                            "-2,-2": 0.5,
                            "-1,-2": 0.5,
                            "0,-2": 0.5,
                            "1,-2": 0.5,
                            "2,-2": 0.5,

                            "-2,-1": 0.5,
                            "-1,-1": 0.5,
                            "0,-1": 0.5,
                            "1,-1": 0.5,
                            "2,-1": 0.5,

                            "-2,0": 0.5,
                            "-1,0": 0.5,
                            "0,0": 0.5,
                            "1,0": 0.5,
                            "2,0": 0.5,

                            "-2,1": 0.5,
                            "-1,1": 0.5,
                            "0,1": 0.5,
                            "1,1": 0.5,
                            "2,1": 0.5,

                            "-2,2": 0.5,
                            "-1,2": 0.5,
                            "0,2": 0.5,
                            "1,2": 0.5,
                            "2,2": 0.5
                        },
                        output: { x: 0.5, y: 1 }
                    }
                    ], {
                        log: true
                    });

                console.log(net.run({ prey: [0.35] }));

                $scope.entities = [
                    {
                        kind: "monster",
                        classVal: "icon-entities-monster",
                        position: {
                            x: 2,
                            y: 2,
                            z: 1
                        }
                    },
                    {
                        kind: "player",
                        classVal: "icon-entities-player",
                        position: {
                            x: 2,
                            y: 4,
                            z: 1
                        }
                    }
                ];
            }
        };
    });
